<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unit Selection</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <h1>Military Unit Selection</h1>
    
    <form id="unitForm">
        <label for="sasf">Stealth Air Superiority Fighter (SASF):</label>
        <select id="sasf" name="sasf">
            <option value="0">0</option>
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
        </select>
        
        <label for="mrl">Multiple Rocket Launcher (MRL):</label>
        <select id="mrl" name="mrl">
            <option value="0">0</option>
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
        </select>

        <label for="tds">Theater Defense System (TDS):</label>
        <select id="tds" name="tds">
            <option value="0">0</option>
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
        </select>

        <label for="ah">Attack Helicopter (AH):</label>
        <select id="ah" name="ah">
            <option value="0">0</option>
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
        </select>

        <br><br>
        <button type="submit">Submit</button>
    </form>

    <p id="warning" class="warning"></p>

    <!-- Firebase SDK -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getFirestore, collection, addDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

        // Firebase Configuration
        const firebaseConfig = {
            apiKey: "AIzaSyArxYCguc3tHkx_R25E1l8aPffnDZjgodE",
            authDomain: "con-worlds-unit-selection.firebaseapp.com",
            projectId: "con-worlds-unit-selection",
            storageBucket: "con-worlds-unit-selection.appspot.com",
            messagingSenderId: "1056963708496",
            appId: "1:1056963708496:web:09c7e564bc2d06ed4ef355",
            measurementId: "G-P7TXFN0PDQ"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        // Handle form submission
        document.getElementById("unitForm").addEventListener("submit", async function(event) {
            event.preventDefault();

            const sasf = parseInt(document.getElementById("sasf").value);
            const mrl = parseInt(document.getElementById("mrl").value);
            const tds = parseInt(document.getElementById("tds").value);
            const ah = parseInt(document.getElementById("ah").value);

            try {
                // Send data to Firestore
                await addDoc(collection(db, "submissions"), {
                    timestamp: serverTimestamp(),
                    sasf: sasf,
                    mrl: mrl,
                    tds: tds,
                    ah: ah
                });

                document.getElementById("warning").innerText = "Submission successful!";
                console.log("Data added successfully!");
            } catch (error) {
                document.getElementById("warning").innerText = "Error saving data.";
                console.error("Error adding document:", error);
            }
        });
    </script>

</body>
</html>

